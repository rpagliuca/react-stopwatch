(this["webpackJsonpreact-stopwatch"]=this["webpackJsonpreact-stopwatch"]||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(2),a=n.n(r),u=n(15),s=n.n(u),i=(n(21),n(11)),d=n(4),o=n(8),l=n(28),j=n(29),b=n(30),h=n(31),O=n(32),f=n(33),g=n(34),x=n(35),m=n(36);n(22),n(23);var p="RESTART",E="INCREMENT",T="TOGGLE",S="TYPE_FOCUS_RIGHT",y="TYPE_FOCUS_LEFT",C="TYPE_ADD_RUNNING_STOPWATCH",v="TYPE_ADD_STOPPED_STOPWATCH",I="TYPE_DELETE",F="TYPE_LAP",w="TYPE_ENABLE_GLOBAL_SHORTCUTS",L="TYPE_DISABLE_GLOBAL_SHORTCUTS",_="INITIAL_STATE_RUNNING",D="INITIAL_STATE_STOPPED",k=function(e,t,n){return{id:e,initialState:t||_,initialCount:n||0}},P=function(){var e=Object(r.useReducer)((function(e,t){var n=[],c={},r=0,a={},u={},s=0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{globalShortcutsEnabled:!0});case L:return Object(d.a)(Object(d.a)({},e),{},{globalShortcutsEnabled:!1});case C:return n=Object(i.a)(e.cards),c=k(e.autoincrement+1,_),n.push(c),Object(d.a)(Object(d.a)({},e),{},{autoincrement:e.autoincrement+1,cards:n,currentFocusId:c.id});case v:return n=Object(i.a)(e.cards),c=k(e.autoincrement+1,D),n.push(c),Object(d.a)(Object(d.a)({},e),{},{autoincrement:e.autoincrement+1,cards:n,currentFocusId:c.id});case I:return n=(n=Object(i.a)(e.cards)).filter((function(e){return e.id!==t.id})),a=Object(d.a)(Object(d.a)({},e),{},{cards:n}),t.id===e.currentFocusId&&(r=e.cards.findIndex((function(t){return t.id===e.currentFocusId})),u=e.cards[(r+1)%e.cards.length],r===e.cards.length-1&&(u=e.cards[(r-1+e.cards.length)%e.cards.length]),s=u&&u.id||0,a.currentFocusId=s),a;case F:n=Object(i.a)(e.cards);var o=e.cards.findIndex((function(t){return t.id===e.currentFocusId})),l=k(e.autoincrement+1,_,t.initialCount);return n.splice(o+1,0,l),a=Object(d.a)(Object(d.a)({},e),{},{autoincrement:e.autoincrement+1,cards:n,currentFocusId:l.id});case S:return r=e.cards.findIndex((function(t){return t.id===e.currentFocusId})),s=(u=e.cards[(r+1)%e.cards.length])&&u.id||0,Object(d.a)(Object(d.a)({},e),{},{currentFocusId:s});case y:r=e.cards.findIndex((function(t){return t.id===e.currentFocusId}));var j=e.cards[(r-1+e.cards.length)%e.cards.length],b=j&&j.id||0;return Object(d.a)(Object(d.a)({},e),{},{currentFocusId:b});default:return e}}),{cards:[k(1,D)],currentFocusId:1,autoincrement:1,globalShortcutsEnabled:!0}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){if(n.globalShortcutsEnabled){var e=function(e){var t=e.keyCode;39!==t&&40!==t||a({type:S}),37!==t&&38!==t||a({type:y}),13===t&&a({type:C}),65===t&&a({type:v})};return document.addEventListener("keydown",e,!1),function(){return document.removeEventListener("keydown",e,!1)}}}),[a,n]),Object(c.jsxs)(j.a,{children:[n.cards.map((function(e){var t={handleTriggerLap:function(t){return a({type:F,id:e.id,initialCount:t})},handleDelete:function(){return a({type:I,id:e.id})},enableGlobalShortcuts:function(){return a({type:w})},disableGlobalShortcuts:function(){return a({type:L})}},r=Object(d.a)(Object(d.a)({},e),{},{hasFocus:e.id===n.currentFocusId,cardNumber:e.id,globalShortcutsEnabled:n.globalShortcutsEnabled});return Object(c.jsx)(R,{data:r,handlers:t},e.id)})),Object(c.jsx)(A,{addCard:function(){return a({type:v})}}),Object(c.jsx)(N,{})]})},R=function(e){var t={};return e.data.hasFocus&&(t.borderColor="black"),Object(c.jsx)(b.a,{md:"4",style:{marginTop:10,marginBottom:10},children:Object(c.jsx)(h.a,{style:t,children:Object(c.jsx)(Y,{data:e.data,handlers:e.handlers})})})},A=function(e){return Object(c.jsx)(b.a,{md:"4",sm:"12",style:{marginTop:10,marginBottom:10},children:Object(c.jsx)(O.a,{color:"secondary",style:{fontSize:"200%"},onClick:function(t){e.addCard(),t.target.blur()},children:"+"})})},N=function(){return Object(c.jsxs)(b.a,{md:"4",sm:"12",style:{marginTop:10,marginBottom:10},children:[Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"ENTER"})," Add a new running stopwatch with focus"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"A"})," Add a new stopped stopwatch with focus"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"L"})," Lap"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"\u2190"})," or ",Object(c.jsx)(G,{children:"\u2191"})," Focus left"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"\u2192"})," or ",Object(c.jsx)(G,{children:"\u2193"})," Focus right"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"SPACE"})," Toggle focused stopwatch"]})}),Object(c.jsx)(j.a,{children:Object(c.jsxs)(b.a,{children:[Object(c.jsx)(G,{children:"DELETE"})," Remove focused stopwatch"]})})]})},G=function(e){return Object(c.jsx)("pre",{style:{display:"inline",background:"#DDD",marginTop:5,padding:3},children:e.children})},B=function(e){return Object(c.jsx)(O.a,{onClick:e.handleClick,color:"danger",style:{float:"right",fontSize:"100%"},children:"x"})},Y=function(e){var t=function(e,t){var n=Object(r.useReducer)((function(e,t){switch(t.type){case p:return Object(d.a)(Object(d.a)({},e),{},{start:+new Date,counter:0,accumulated:0});case E:return Object(d.a)(Object(d.a)({},e),{},{counter:+new Date-e.start+e.accumulated});case T:var n=Object(d.a)(Object(d.a)({},e),{},{isCounting:!e.isCounting});return n.isCounting&&(n.accumulated=n.counter,n.start=+new Date),n;default:throw new Error}}),{isCounting:e===_,shouldRestart:!1,start:+new Date,counter:0,accumulated:t}),c=Object(o.a)(n,2),a=c[0],u=c[1];return Object(r.useEffect)((function(){if(a.isCounting){var e=setTimeout((function(){return u({type:E})}),10);return function(){clearTimeout(e)}}}),[a]),[a.counter,(a.counter/1e3).toFixed(2),a.isCounting,function(){return u({type:T})},function(){return u({type:p})}]}(e.data.initialState,e.data.initialCount),n=Object(o.a)(t,5),a=n[0],u=n[1],s=n[2],i=n[3],l=n[4],j=Object(r.useRef)(null);Object(r.useEffect)((function(){if(e.data.globalShortcutsEnabled&&e.data.hasFocus){var t=function(t){var n=t.keyCode;32===n&&i(),76===n&&(s&&i(),e.handlers.handleTriggerLap(a)),46===t.keyCode&&e.handlers.handleDelete()};return document.addEventListener("keydown",t,!1),function(){return document.removeEventListener("keydown",t,!1)}}}),[s,a,i,e]);var b={};return s?b.background="#e6ffeb":0!==a&&(b.background="#fffaeb"),Object(c.jsx)("div",{ref:j,tabIndex:"0",children:Object(c.jsxs)(f.a,{style:b,children:[Object(c.jsx)("div",{style:{zIndex:1},children:Object(c.jsx)(U,{cardNumber:e.data.cardNumber,disableGlobalShortcuts:e.handlers.disableGlobalShortcuts,enableGlobalShortcuts:e.handlers.enableGlobalShortcuts})}),Object(c.jsxs)(g.a,{children:["Seconds ellapsed: ",u]}),Object(c.jsx)(O.a,{color:"primary",style:{marginRight:5},onClick:i,children:s?"Pause":0===a?"Start":"Continue"}),Object(c.jsx)(B,{handleClick:e.handlers.handleDelete}),0!==a?Object(c.jsx)(O.a,{color:"danger",style:{marginRight:5,float:"right"},onClick:l,children:"Reset"}):""]})})},U=function(e){var t=function(e){var t=Object(r.useState)(""),n=Object(o.a)(t,2),c=n[0],a=n[1];return{value:c,onChange:function(e){return a(e.target.value)},placeholder:e}}("Enter a new title"),n=Object(r.useState)(!1),a=Object(o.a)(n,2),u=a[0],s=a[1],i=Object(r.useRef)(null);Object(r.useEffect)((function(){u&&(i.current.focus(),i.current.select())}),[u]);var l=function(t){s(!1),e.enableGlobalShortcuts(),t.preventDefault()};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("form",{onSubmit:l,children:u?Object(c.jsx)(x.a,Object(d.a)(Object(d.a)({},t),{},{onFocus:function(t){e.disableGlobalShortcuts()},onBlur:l,innerRef:i,style:{marginBottom:5}})):Object(c.jsx)(m.a,{tag:"h5",onClick:function(e){s(!0)},style:{cursor:"pointer"},children:t.value||"Stopwatch "+e.cardNumber})})})},H=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)(P,{})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),c(e),r(e),a(e),u(e)}))};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(H,{})}),document.getElementById("root")),z()}},[[26,1,2]]]);
//# sourceMappingURL=main.b7882896.chunk.js.map